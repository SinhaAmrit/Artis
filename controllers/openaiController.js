const{Configuration:e,OpenAIApi:a}=require("openai"),configuration=new e({apiKey:process.env.OPENAI_API_KEY}),openai=new a(configuration),generateImage=async(e,a)=>{let{prompt:s,size:t}=e.body,n="small"===t?"256x256":"medium"===t?"512x512":"1024x1024";try{let o=await openai.createImage({prompt:s,n:1,size:n}),r=o.data.data[0].url;a.status(200).json({success:!0,data:r})}catch(g){g.response?(console.log(g.response.status),console.log(g.response.data)):console.log(g.message),a.status(400).json({success:!1,error:"The image could not be generated"})}};module.exports={generateImage};
